---
title: git 的相关操作
date: 2020-04-17
description: 若不知道要驶向哪个码头，那么任何风都不会是顺风
category: Git
tags:
  - Git
  - 其他
---

### git 仓库

工作区 ---> 暂缓区 ---> 版本库 ---> 远程仓库

---

### 我们在开发项目中经常会用到的几个命令

```javascript
git init 创建版本库

git config 设置用户名和邮箱

git add .

git commit -m '提交的注释'
```

---

### 查看相关的操作

**场景 1** 查看当前 文件的状态(红色为修改为 add 绿色为 add 未 commit)

```javascript
git status
```

**场景 2** 对比两次文件的修改

```javascript
git diff
```

**场景 3** 查看提交的日志对应的 hash 值

```
git log
git log --oneline --graph --decorate --all(查看树形分支 --- 通过这个查看rebase的前后差异)
```

---

### 修改相关的操作

**场景 1** 当你修改代码时，写了一个很多很多的代码,突然想回到之前的代码状态

```
git checkout filename
```

**场景 2** 修改完代码了，放到缓冲区了，然后想把它从缓冲区当中清除

```
git reset HEAD  filename
```

**场景 3** 解决由于主机由于物理删除导致版本库未删除的情况

```
git rm
git rm --cached your-file(撤销添加到暂存区)
```

**场景 4** 将当前环境储存起来，不会和即将的环境冲突

```
git stash
git stash list
git stash pop
```

**场景 5** 对仓库里的文件进行改名

```
git mv oldFile newFile
```

**场景 6** 版本回退

```
git reset --soft HEAD^(撤销最后一次的git commit)
git reset --hard HEAD^(返回上一个版本)
git reset --hard hash 退回到某一个版本
```

---

```
git checkout -b 创建新分支并切换到新分支
git tag 当前版本的标签(查看当前的版本)
git checkout tag(修复某一个版本出现bug时)
git checkout tags/v1.2((修复某一个版本出现bug时，当本地有个分支和tags版本号名字相同时需要时声明那个分支))
git checkout -b 分支名 hash值(创建一个分支在某次提交位置)
git branch -D 分支名(删除本地分支)
git fetch 新的分支被推到了我们的远程存储库，获取更改而不将其与本地存储库合并
```
